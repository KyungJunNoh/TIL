# ORM(Object Relational Mapping)

### 영속성(Persistence)
[참고](./../Unclassified/Persistence.md)
- 데이터를 생성한 프로그램이 종료되더라도 사라지지 않는 데이터의 특성을 말한다.
- 영속성을 갖지 않는 데이터는 단지 메모리에서만 존재하기 때문에 프로그램을 종료하면 모두 잃어버리게 된다.
- **Object Persistence(영구적인 객체)**
    - 메모리 상의 데이터를 파일 시스템, 관계형 테이터베이스 혹은 객체 데이터베이스 등을 활용하여 영구적으로 저장하여 영속성 부여한다.

### ORM이란
> Object Relational Mapping, 객체-관계 매핑
- 객체와 관계형 데이터베이스의 데이터를 **자동으로 매핑(연결)해주는 것**을 말한다.
  - 객체 지향 프로그래밍은 **클래스**를 사용하고, 관계형 데이터베이스는 **테이블**을 사용한다.
  - 객체 모델과 관계형 모델 간에 불일치가 존재한다.
  - ORM을 통해 객체 간의 관계를 바탕으로 SQL을 자동으로 생성하여 불일치를 해결한다.   
- 데이터베이스 데이터 <- 매핑 -> Object필드
  - 객체를 통해 간접적으로 데이터베이스 데이터를 다룬다.
- Persistant API라고도 할 수 있다.
  - Ex) JPA, Hibernate 등

### ORM의 장단점
- 장점
  - 객체 지향적인 코드로 인해 더 직관적이고 **비즈니스 로직에 더 집중**할 수 있게 도와준다.   
  (코드에서 데이터베이스를 오가는 것보다는 그냥 코드에서 코드로 로직을 짜는게 더 좋기 때문?)
  - **재사용 및 유지보수**의 편리성이 증가한다.
  - **DBMS에 대한 종속성이 줄어든다**.
  - ORM을 이용하면 SQL문이 아닌 클래스의 메서드를 통해 데이터베이스를 조작할 수 있다.
  - 또한 각종 객체에 대한 코드를 별도로 작성하여 코드의 가독성을 높일 수 있다.
  - 재사용, 유지보수, 리팩토링 용이

- 단점
  - 완벽한 ORM으로 서비스를 구현하기 어렵다.

### 객체 - 관계 간의 불일치
- 세분성(Granularity)
  - 경우에 따라서 데이터베이스에 있는 테이블 수보다 더 많은 클래스를 가진 모델이 생길 수 있다.
- 상속성(Inheritance)
  - RDBMS는 객체지향 프로그래밍 언어의 특징인 **상속 개념이 존재하지 않는다.**
- 일치(Identify)
  - RDBMS는 기본키(Primary Key)를 이용하여 동일성을 정의한다. 그러나 프로그래밍 언어에서는 객체 식별(a==b) 과 객체 동일성(a.equals(b))를 모두 정의한다.
- 연관성(Associations)
  - 객체지향 언어는 방향성이 있는 객체의 참조(Reference)를 사용하여 연관성을 나타내지만 RDBMS는 방향성이 없는 외래키(Foreign Key)를 이용하여 나타낸다.