# NAT (Network Address Translation) - 네트워크 주소 변환

- IP 패킷의 TCP/UDP 포트 숫자와 소스 및 목적지의 IP 주소 등을 재기록하면서 라우터를 통해 네트워크 트래픽을 주고 받는 기술을 말한다.

- 패킷에 변화가 생기기 때문에 IP나 TCP/UDP의 체크섬(checksum)도 다시 계산되어 재기록 해야 한다. **NAT를 이용하는 이유는 대게 사설 네트워크에 속한 여러 개의 호스트가 하나의 공인 IP 주소를 사용하여 인터넷에 접속하기 위함**이다.

- NAT는 IPv4의 주소 부족 문제를 해결하기 위한 방법으로 고려되었으며, 주로 비공인(사설, local) 네트워크 주소를 사용하는 망에서 외부의 공인망(public, 예를 들면 인터넷)과의 통신을 위해서 네트워크 주소를 변환하는 것이다.

- 즉, **내부 망에서는 사설 IP 주소를 비롯하여 통신**을 하고, **외부망과의 통신시에는 NAT를 거쳐 공인 IP주소로 자동 변환**한다.

### 그래서 왜 NAT을 사용하나?
- 첫째, 인터넷의 공인 IP주소를 절약할 수 있다는 점
- 둘째, 인터넷이라는 공공망과 연결되는 사용자들의 고유한 사설망을 침입자들로부터 보호 할 수 있다는 점

1. 인터넷의 공인 IP주소는 한정되어 있기 때문에 가급적 이를 공유할 수 있도록 하는 것이 필요한데 NAT를 이용하면 사설 IP주소를 사용하면서 이를 공인 IP주소를 다수가 함께 사용할 수 있도록 함으로써 이를 절약할 수 있는 것이다.

2. 공개된 인터넷과 사설망 사이에 방화벽(firewall)을 설치하여 외부 공격으로부터 사용자들의 통신망을 보호하는 기본적인 수단으로 활용할 수 있다. 이때 외부 통신망 즉 인터넷망과 연결하는 장비인 라우터에 NAT을 설정할 경우 라우터는 자신에게 할당된 공인 IP주소만 외부에 알려지게 하고, 내부에서는 사설IP주소만 사용하도록 하여 필요시에 이를 서로 변환시켜 준다. 따라서 외부 침입자가 공격하기 위해서는 사설망의 내부 사설 IP주소를 알아야 하기 때문에 공격이 불가능해지므로 내부 네트워크를 보호할 수 있게 된다.

(약간 동네에서 아파트 몇동 몇호 몇동 몇호~~)